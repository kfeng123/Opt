\documentclass[11pt]{article}
 
\newcommand\CG[1]{\textcolor{red}{#1}}

\usepackage{lineno,hyperref}

\usepackage[margin=1 in]{geometry}
\renewcommand{\baselinestretch}{1.25}


%\usepackage{refcheck}
\usepackage{authblk}
\usepackage{galois} % composition function \comp
\usepackage{bm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{amsthm}
\usepackage{natbib}
\usepackage{graphicx}
\usepackage{color}
\usepackage{booktabs}
\usepackage[page,title]{appendix}
%\renewcommand\appendixname{haha}
\usepackage{enumerate}
\usepackage[FIGTOPCAP]{subfigure}
\usepackage{changepage}
\usepackage{datetime}
\newdate{date}{9}{1}{2017}

%%%%%%%%%%%%%%  Notations %%%%%%%%%%
\DeclareMathOperator{\mytr}{tr}
\DeclareMathOperator{\mydiag}{diag}
\DeclareMathOperator{\myrank}{Rank}
\DeclareMathOperator{\myP}{P}
\DeclareMathOperator{\myE}{E}
\DeclareMathOperator{\myVar}{Var}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}


\newcommand{\Ba}{\mathbf{a}}    \newcommand{\Bb}{\mathbf{b}}    \newcommand{\Bc}{\mathbf{c}}    \newcommand{\Bd}{\mathbf{d}}    \newcommand{\Be}{\mathbf{e}}    \newcommand{\Bf}{\mathbf{f}}    \newcommand{\Bg}{\mathbf{g}}    \newcommand{\Bh}{\mathbf{h}}    \newcommand{\Bi}{\mathbf{i}}    \newcommand{\Bj}{\mathbf{j}}    \newcommand{\Bk}{\mathbf{k}}    \newcommand{\Bl}{\mathbf{l}}
\newcommand{\Bm}{\mathbf{m}}    \newcommand{\Bn}{\mathbf{n}}    \newcommand{\Bo}{\mathbf{o}}    \newcommand{\Bp}{\mathbf{p}}    \newcommand{\Bq}{\mathbf{q}}    \newcommand{\Br}{\mathbf{r}}    \newcommand{\Bs}{\mathbf{s}}    \newcommand{\Bt}{\mathbf{t}}    \newcommand{\Bu}{\mathbf{u}}    \newcommand{\Bv}{\mathbf{v}}    \newcommand{\Bw}{\mathbf{w}}    \newcommand{\Bx}{\mathbf{x}}
\newcommand{\By}{\mathbf{y}}    \newcommand{\Bz}{\mathbf{z}}    
\newcommand{\BA}{\mathbf{A}}    \newcommand{\BB}{\mathbf{B}}    \newcommand{\BC}{\mathbf{C}}    \newcommand{\BD}{\mathbf{D}}    \newcommand{\BE}{\mathbf{E}}    \newcommand{\BF}{\mathbf{F}}    \newcommand{\BG}{\mathbf{G}}    \newcommand{\BH}{\mathbf{H}}    \newcommand{\BI}{\mathbf{I}}    \newcommand{\BJ}{\mathbf{J}}    \newcommand{\BK}{\mathbf{K}}    \newcommand{\BL}{\mathbf{L}}
\newcommand{\BM}{\mathbf{M}}    \newcommand{\BN}{\mathbf{N}}    \newcommand{\BO}{\mathbf{O}}    \newcommand{\BP}{\mathbf{P}}    \newcommand{\BQ}{\mathbf{Q}}    \newcommand{\BR}{\mathbf{R}}    \newcommand{\BS}{\mathbf{S}}    \newcommand{\BT}{\mathbf{T}}    \newcommand{\BU}{\mathbf{U}}    \newcommand{\BV}{\mathbf{V}}    \newcommand{\BW}{\mathbf{W}}    \newcommand{\BX}{\mathbf{X}}
\newcommand{\BY}{\mathbf{Y}}    \newcommand{\BZ}{\mathbf{Z}}    

\newcommand{\bfsym}[1]{\ensuremath{\boldsymbol{#1}}}

 \def\balpha{\bfsym \alpha}
 \def\bbeta{\bfsym \beta}
 \def\bgamma{\bfsym \gamma}             \def\bGamma{\bfsym \Gamma}
 \def\bdelta{\bfsym {\delta}}           \def\bDelta {\bfsym {\Delta}}
 \def\bfeta{\bfsym {\eta}}              \def\bfEta {\bfsym {\Eta}}
 \def\bmu{\bfsym {\mu}}                 \def\bMu {\bfsym {\Mu}}
 \def\bnu{\bfsym {\nu}}
 \def\btheta{\bfsym {\theta}}           \def\bTheta {\bfsym {\Theta}}
 \def\beps{\bfsym \varepsilon}          \def\bepsilon{\bfsym \varepsilon}
 \def\bsigma{\bfsym \sigma}             \def\bSigma{\bfsym \Sigma}
 \def\blambda {\bfsym {\lambda}}        \def\bLambda {\bfsym {\Lambda}}
 \def\bomega {\bfsym {\omega}}          \def\bOmega {\bfsym {\Omega}}
 \def\brho   {\bfsym {\rho}}
 \def\btau{\bfsym {\tau}}
 \def\bxi{\bfsym {\xi}}
 \def\bzeta{\bfsym {\zeta}}
% May add more in future.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{exercise}{Exercise}
\newtheorem{proposition}{Proposition}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}{Lemma}
\newtheorem{example}{Example}
\newtheorem{assumption}{Assumption}
\newtheorem{condition}{Condition}

\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}
\theoremstyle{remark}






\begin{document}
\title{Notes on Polish space}

\author{Rui Wang}
\maketitle

\section{Introduction}
This document contains notes about Polish space which play an important role in probability and statistics.
The materials are mainly from \cite{book:992991}, Chapter 8 and \cite{dudleyProbability}, Chapter 13.

\section{Polish space}
\begin{exercise}[\cite{book:992991}, Exercise 8.1.3]
    Let $(X,\mathscr A)$ be a measurable space, let $Y$ be a separable metrizable space, and let $f,g: X \to Y$ be measurable with respect to $\mathscr A$ and $\mathscr B(Y)$.
    Then $\left\{ x\in X : f(x)=g(x) \right\} \in \mathscr A$.
\end{exercise}
\begin{proof}
    For any $A, B \in \mathscr B(Y)$,
    \begin{equation*}
        \left\{ x: (f(x),g(x)) \in A\times B \right\}
        = f^{-1}(A) \cap f^{-1}(B) \in \mathscr A.
    \end{equation*}
    Hence the map $F: x \mapsto (f(x),f(x))$ is measurable with respect to $\mathscr A$ and $\mathscr B (Y) \times \mathscr B (Y)$.
    Since $Y$ is a separable metrizable space, $\mathscr B (Y) \times \mathscr B (Y)= \mathscr B \left( Y\times Y \right)$.
    Thus, the map $F$ is measurable with respect to $\mathscr A$ and $\mathscr B (Y \times Y)$.
    Let $\Delta= \left\{ (y_1,y_2)\in Y \times Y: y_1=y_2 \right\}$.
    Then $\Delta$ is a closed subset of $Y \times Y$ and $\left\{ x\in X: f(x)=g(x) \right\}=F^{-1}(\Delta)$.
    It follows that $\left\{ x\in X: f(x)=g(x) \right\}\in \mathscr A$.
\end{proof}


\begin{exercise}[\cite{book:992991}, Exercise 8.2.1]
        Let $A$ be an uncountable analytic subset of the Polish space $X$.
        Then,
    \begin{enumerate}[(a)]
    \item
        $A$ has a subset that is homeomorphic to $\{0,1\}^{\mathbb N}$.
    \item
        $A$ has the cardinality of the continuum.
    \end{enumerate}
    \label{CohnEx8.2.1}
\end{exercise}
\begin{proof}
    From \cite{book:992991}, Corollary 8.2.8., there is a continuous function $f$ from $\mathscr N$ onto $A$.
    By the axiom of choice, there is a set $S\subset \mathscr N$ such that the restriction of $f$ on $S$ is a bijection of $S$ onto $A$.
    As a subspace of $\mathscr N$, $S$ is an uncountable separable metrizable space.
    Let $S_0\subset S$ be the set of all condensation points of the space $S$.
    From \cite{book:992991}, Lemma 8.2.12, $S_0$ is uncountable and each point of $S_0$ is a condensation point of $S_0$.
    Let $d_{\mathscr N}(\cdot, \cdot)$ be a metric on $\mathscr N$ which metrize the topology of $\mathscr N$.
    Let $d_{X}(\cdot, \cdot)$ be a metric on $X$ which metrize the topology of $X$.

    Now we construct a homeomorphic between a subset of $X$ and $\{0,1\}^{\mathbb N}$.
    First, let $x_0$ and $ x_1 $ be two distinct points in $S_0$.
    Since the restriction of $f$ on $S_0$ is injective, $f(x_0)\neq f(x_1)$.
    Hence there exists $0<\epsilon_1 <1$ such that $\overline{B(x_0,\epsilon_1)} \cap \overline{B(x_1,\epsilon_1)} = \emptyset$ and $ f(\overline{B(x_0,\epsilon_1)}) \cap f(\overline { B(x_1,\epsilon_1)  }) =\emptyset  $. 
    For $i=0,1$, let $C(i)=B(x_i,\epsilon_1)$.
    Note that for $i=0,1$, $C(i) \cap  S_0$ is uncountable and each point of $C(i) \cap  S_0$ is a condensation point of $C(i) \cap  S_0$.
    Then there exist $x_{i0}$, $x_{i1} \in C(i) \cap S_0$ ($i=0,1$) and  $0< \epsilon_2 <1/2$ such that for $j=0,1$, $B(x_{ij},\epsilon_2) \subset B(x_{i},\epsilon_1)$,  $\overline{B(x_{i0},\epsilon_2)} \cap \overline{B(x_{i1},\epsilon_2)} = \emptyset$ and $ f(\overline{B(x_{i0},\epsilon_2)}) \cap f(\overline { B(x_{i1},\epsilon_2)  }) =\emptyset  $. 
    For $i,j\in \{0,1\}$, let $C(i,j)=B(x_{ij}, \epsilon_2)$.
    
    Inductively construct sets $C(n_1,n_2,\ldots,n_k)$, $n_i\in \{0,1\}$, $k\in \mathbb N$.
    Then for $\{n_k\}_{k=1}^\infty \in \mathscr N$, consider the set $\cap_{k=1}^\infty \overline {C(n_1,\dots, n_k)}$.
    By the completeness of $\mathscr N$, $\cap_{k=1}^\infty \overline {C(n_1,\dots, n_k)}\neq \emptyset$.
    Also, the diameter of $\overline {C(n_1,\dots, n_k)}$ tends to $0$.
    Then there exists a unique point in $\cap_{k=1}^\infty \overline {C(n_1,\dots, n_k)}$.
    Let $g$ be the function from $\mathscr N$ to $X$ which maps $\{n_k\}_{k=1}^\infty$ to the unique point of $\cap_{k=1}^\infty \overline {C(n_1,\dots, n_k)}$.

    By the construction of $C(n_1,\dots,n_k)$, $g$ is continuous and injective.
    Then $f\comp g$ is continuous.
    To see that $f\comp g$ is injective, let $\{n_k\}_{k=1}^\infty$ and $\{m_k\}_{k=1}^\infty$ be two distinct points of $\{0,1\}^{\mathscr N}$.
    Let $k_0$ be the first $k$ such that $n_k \neq m_k$.
    By the construction of $C(\cdot,\dots, \cdot)$, $f(\overline{C(n_1,\dots,n_{k_0})}) \cap  f(\overline{C(m_1,\dots,m_{k_0})}) = \emptyset$.
    Since $g(\{n_k\}_{k=1}^\infty) \subset \overline{C(n_1,\dots,n_{k_0})}$, $g(\{m_k\}_{k=1}^\infty) \subset \overline{C(m_1,\dots,m_{k_0})}$.
    Then $f \comp g (\{n_k\}_{k=1}^\infty ) \neq f \comp g (\{m_k\}_{k=1}^\infty ) $.

    Since $\{0,1\}^{\mathscr N}$ is compact, the inverse of $f \comp g$ is also continuous. 
    This completes the proof of $(a)$.

    (a) implies that $\textrm{card}(A) \geq \mathfrak c $.
    On the other hand, \cite{book:992991}, Corollary 8.2.8. implies that $\textrm{card}(A) \leq \mathfrak c$.
    Thus, $\textrm{card}(A) = \mathfrak c $.

\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.2.2]
    Let $X$ be an uncoutable Polish space.
    Then the collection of analytic subsets of $X$ and the collection of Borel subsets of $X$ have the cardinality of the continuum.
    \label{CohnEx8.2.2}
\end{exercise}
\begin{proof}
    Exercise \ref{CohnEx8.2.1} implies that the cardinality of $X$ is $\mathfrak c$.
    Since each single point of $X$ is a Borel set, the cardinality of the collection of Borel subsets of $X$ is at least $\mathfrak c$.
    We only need to prove that the cardinality of the collection of analytic subsets of $X$ is at most $\mathfrak c$.

    \cite{book:992991}, Proposition 8.2.9 implies that it suffices to upper bound the cardinality of the collection of closed subsets of the Polish space $\mathscr N \times X$.
    Let $\{U_i\}_{i=1}^\infty$ be a countable base of the topology of $\mathscr N \times X$.
    Then every closed subset of $\mathscr N \times X$ is the intersection of certain $U_i^\complement$, that is, $\cap_{i\in S} U_i^{\complement}$ where $S$ is a subset of $\mathbb N$.
    Hence there is an injective map from the collection of closed subsets of $\mathscr N \times X$ to $2^{\mathbb N}$.
    Thus, the cardinality of the collection of closed subsets of $\mathscr N \times X$ is at most $\mathfrak c$.

\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.2.3]\
    \begin{enumerate}[(a)]
        \item 
     Let $X$ be a nonempty zero-dimensional Polish space such that each nonempty open subset of $X$ is not compact.
    Then $X$ is homeomorphic to $\mathscr N$.
\item
    the Space $\mathscr I$ of irrational numbers in the interval $(0,1)$ is homeomorphic to $\mathscr N$. 
    \end{enumerate}
    \label{CohnEx8.2.3}
\end{exercise}
\begin{proof}
    Let $d(\cdot, \cdot)$ be a complete metric for $X$.
    We begin by constructing a family $\{C(n_1,\dots,n_k)\}$ of subsets of $X$, indexed by the set of all finite sequences $\{(n_1,\dots,n_k)\}$ of positive integers, in such a way that
    \begin{enumerate}[1.]
        \item 
            $C(n_1,\dots,n_k)$ is nonempty, open, closed and noncompact,
        \item
            the diameter of $C(n_1,\dots,n_k)$ is at most $1/k$,
        \item
            $\{C(n_1,\dots,n_{k-1},n_k)\}_{n_k=1}^\infty$ are disjoint
            and
            $C(n_1,\dots,n_{k-1})=\cup_{n_k=1}^\infty C(n_1,\dots,n_k)$,
        \item
            $X=\cup_{n_1=1}^\infty C(n_1)$.
    \end{enumerate}
    We do this by induction on $k$.

    First, suppose that $k=1$.
    Since $X$ is assumed to be not compact, \cite{book:992991}, Lemma 8.2.11 gives a sequnce $\{C(n_1)\}_{n_1=1}^\infty$ where terms are nonempty, open, closed and with diameter at most $1$.
    By assumption, each $C(n_1)$ is not compact.

    Now suppose that $k>1$ and that $C(n_1,\dots,n_{k-1})$ has already been chosen. 
    It is easy to use a modification of the construction of the $C(n_1)$'s, now applied to $C(n_1,\dots,n_{k-1})$ rather than to $X$, to produce sets $C(n_1,\dots,n_k)$, $n_k=1,2,\dots$ that satisfy conditions 1 to 4.
    With this, the induction step in our construction is complete.
    
    We turn to the construction of a homeomorphic between $\mathscr N$ and $X$.
    Let $\mathbf n = \{n_k\}$ be an element of $\mathscr N$.
    Then the sets $C(n_1)$, $C(n_1,n_2)$, \dots are decreasing nonempty closed sets whose diameters approach to $0$.
    Since $X$ is complete, there is a unique element in $\cap_{k=1}^\infty C(n_1,\dots,n_k)$.
    We can define a function $f: \mathscr N \to X$ by letting $f(\mathbf n)$ be the unique member of $\cap_{k=1}^\infty C(n_1,\dots,n_k)$.
    Note that if $\mathbf m$ and $\mathbf n$ are elements of $\mathscr N$ such that $m_i = n_i$ holds for $k=1,\dots,k$, then $d(\mathbf m, \mathbf n) \leq 1/k$.
    It follows that $f$ is continuous.
    Also, it is obvious that $f$ is bijective.
    It remain to prove that the inverse of $f$ is continuous.
    Suppose $f(\mathbf n^{(l)}) \to f(\mathbf n)$.
    Fix $k>0$.
    Then if $l$ is large enough, $f(\mathbf n^{(l)}) \in C(n_1,\dots,n_k)$.
    By the construction of $f$, this implies that $n^{(l)}_i= n_i$ for $i=1,\dots,k$.
    Thus, $\mathbf n^{(l)} \to \mathbf n$ as $l \to \infty$.
    This completes the proof of $(a)$.

    We turn to the proof of $(b)$.
    The space $\mathscr I$ is a $G_{\delta}$ set of $[0,1]$, and hence is a Polish space.
    The family of intervels $(a_i,b_i)$ where $a_i$ and $b_i$ is rational is a base that consists of sets that are both open and closed.
    It follows that $\mathscr I$ is zero-dimensional.
    Each interval $(a,b)$ is the union of $\{(a_i,b_i)\}_{i=1}^\infty$ where $a_i$, $b_i$ are rational and $a_i \downarrow a$ and $b_i \uparrow b$.
    Hence each interval of $\mathscr I$ is not compact.
    Then the conclusion follows from (a).
    
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.2.3]
    Each nonempty Polish space is the image of $\mathscr N$ under a continuous open map.
\end{exercise}
\begin{proof}
    We mimic the proof of \cite{book:992991}, Proposition 8.2.7.

    Let $X$ be a nonempty Polish space, and let $d$ be a complete metric for $X$.
    We begin by constructing a family $\{C(n_1,\dots,n_k)\}$ of subsets of $X$, indexed by the set of all finite sequences $\{n_1,\dots,n_k\}$ of positive integers, in such a way that
    \begin{enumerate}[1.]
        \item 
            $C(n_1,\dots,n_k)$ is nonempty and open,
        \item
            the diameter of $C(n_1,\dots,n_k)$ is at most $1/k$,
        \item
            $\overline{C(n_1,\dots,n_{k-1},n_k)} \subset C(n_1,\dots,n_{k-1})$ 
            and
            $C(n_1,\dots,n_{k-1})=\cup_{n_k=1}^\infty C(n_1,\dots,n_k)$,
        \item
            $X=\cup_{n_1=1}^\infty C(n_1)$.
    \end{enumerate}
    We do this by induction on $k$.

    First, suppose that $k=1$, and let $\{x_{i}\}_{i=1}^\infty$ be a sequence whose terms form a dense subset of $X$.
    The sequence $\{X_{i}\}_{i=1}^\infty$ may have duplicated elements.
    Let $\{C(n_1)\}_{n_1=1}^\infty$ be the collection of open balls which center at certain $x_i$ and with rational radius not larger than $1/2$.
    Certainly each $C(n_1)$ is open and nonempty and has diameter at most $1$.
    Furthermore, $X=\cup_{n_1}C(n_1)$.

    Now suppose that $k>1$ and that $C(n_1,\dots,n_{k-1})$ has already been chosen.
    Let $\{C\left( n_1,\dots,n_{k-1}, n_k \right)\}_{n_k=1}^\infty$ be the collection of open balls which center at centain $x_i$ and with rational radius not larger than $1/(2k)$ and whose closure is contained in $C(n_1,\dots,n_{k-1})$.
    Certainly each $C(n_1,\dots,n_{k})$ is open and nonempty and has diameter at most $1/k$.
    Now we prove that $C(n_1,\dots,n_{k-1})=\cup_{n_k=1}^\infty C(n_1,\dots,n_k)$.
    Suppose $x\in C(n_1,\dots,n_{k-1})$.
    Since $C(n_1,\dots,n_{k-1})$ is open, there is a open ball $B(x,r) \subset C(n_1,\dots,n_{k-1})$ where $r$ is rational and $r<1/k$.
    Since $\{x_i\}_{i=1}^\infty$ is dense in $X$, there is an $x_i$ such that $d(x,x_i)< r/3$.
    Then the ball $B(x_i,r/2)$ contains $x$.
    Also, the Closure of $B(x_i,r/2)$ has radius not larger than $1/(2k)$ and is contained in $C(n_1,\dots,n_{k-1})$.
    Thus, $B(x_i,r/2)=C(n_1,\dots,n_k)$ for some $n_k$.
    With this, the induction step in our construction is complete.

    We turn to the construction of a continuous function that maps $\mathscr N$ onto $X$.
    Let $\mathbf n =\{n_k\}$ be an element of $\mathscr N$.
    It follows from 3 that $\cap_{k=1}^\infty C(n_1,\dots,n_k) = \cap_{k=1}^\infty \overline{C(n_1,\dots,n_k)}$ which is intersection of a decreasing sequence of nonempty closd subsets of $X$ whose diameters approach $0$.
    Thus there is a unique element in the intersection of these sets, and we can define a function $f: \mathscr N \to X$ by letting $f(\mathbf n)$ be the unique member of $\cap_k C(n_1,\dots,n_k)$.
    Note that if $\mathbf m$ and $\mathbf n$ are elements on $\mathscr N$ such that $m_i=n_i$ holds for $i=1,\dots,k$, then $d(f(\mathbf m, \mathbf n))\leq 1/k$.
    It follows that $f$ is continuous.
    Also, 3 and 4 above imply that for each x in $X$ there is an element $\mathbf n = \{n_k\}$ of $\mathscr N$ such that $x\in \cap_k C(n_1,\dots,n_k)$ and hence such that $x=f(\mathbf n)$. 
    Thus $f$ is surjective.

    It remains to prove that $f$ is an open map.
    Note that the sets of the form $\{n_1\}\times \dots \times \{n_k\} \times \mathbb N \times \dots$ is a base for the topology of $\mathscr N$.
    By the construction of $f$, for any $n_1,\dots,n_k$, $f(\{n_1\}\times \dots \times \{n_k\} \times \mathbb N \times \dots)=C(n_1,\dots,n_k)$ is an open set.
    This completes the proof.

\end{proof}


\begin{exercise}[\cite{book:992991}, Exercise 8.2.5]
    Each Borel subet of a Polish space is the image under a continuous injective map of some Polish space.
\end{exercise}
\begin{proof}
    Let $X$ be a Polish space.
    Let $\mathcal A$ be the collection of Borel subsets of $X$ which are the image under continuous injective maps of some Polish spaces.
    Then all open and closed subsets of $X$ belong to $\mathcal A$ since they are themselves Polish spaces.

    Assume $A_1,\dots,A_n,\dots \in \mathcal A$ and $A_1,\dots,A_n,\dots$ are disjoint.
    For each $A_i$, there is a Polish space $X_i$ and a continuous infective map $f_i(\cdot)$ such that $f_i(X_i)=A_i$.
    Define $f: \cup_{i=1}^{\infty} X_i \mapsto  \cup_{i=1}^{\infty} A_i $ by $f(x)=f_i(x)$ if $x\in X_i$.
    Here $\cup_{i=1}^{\infty} X_i$ is the disjoint union of $X_i$.
    Then $\cup_{i=1}^{\infty} X_i$ is Polish and $f$ is injective and continuous.
    Then $\cup_{i=1}^{\infty} A_i \in \mathcal A$.

    Assume $A_1,\dots,A_n,\dots \in \mathcal A$.
    For each $A_i$, there is a Polish space $X_i$ and a continuous infective map $f_i(\cdot)$ such that $f_i(X_i)=A_i$.
    Define $f: \prod_{i=1}^{\infty} X_i \mapsto  \prod_{i=1}^{\infty} X $ by $f(\{x_i\}_{i=1}^\infty)=\{f_i(x_i)\}_{i=1}^\infty$.
    Then  $f$ is injective and continuous onto $\prod_{i=1}^{\infty} A_i \subset \prod_{i=1}^\infty X$.
    Let $D = \{(x,x,\dots): x\in  X \}$.
    Define $g:D \mapsto X$ by $g(x,x,\dots) = x$.
    Then $g$ is a homeomorphism between $D$ and $X$.
    Consider $g \comp f$ defined on $f^{-1}(D)$.
    Then $g \comp f$ is injective and continuous from $f^{-1}(D)$ onto $\cap_{i=1}^\infty A_i$.
    Since $f^{-1}(D)$ is a closed subset of $\prod_{i=1}^\infty X_i$, it is Polish.
    Thus, $\cap_{i=1}^\infty A_i \in \mathcal A$.

    From \cite{book:992991}, Lemma 8.2.4, $\mathcal A$ contains all Borel subset of $X$.
    This completes the proof.
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.2.6]
    If $X$ is an uncountable Polish space, then there is an analytic subset of $X$ that is not a Borel set.
\end{exercise}
\begin{proof}
    Let $X$ be an uncountable Polish space.
    From \cite{book:992991}, Proposition 8.2.13, there is a continuous injective map $f: \mathscr N \to X$ such that $X - f(\mathscr N)$ is countable.
    From \cite{book:992991}, Corollary 8.2.17, there is an analytic set $A \in \mathscr N$ that is not a Borel set.
    Then $f(A)$ is not a Borel set of $X$, or else $A= f^{-1}(f(A))$ would be a Borel set, a contradiction.
    On the other hand, $f(A)$ is analytic.
    This completes the proof.
    
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.3.1]
    Let $X$ and $Y$ be Polish spaces, and let $f: X \to Y$ be a function whose graph is an analytic subset of $X \times Y$.
    Then $f$ is Borel measurable.
\end{exercise}
\begin{remark}
    It follows from this conclution and \cite{book:992991}, Proposition 8.1.8 that $f$ is Borel measurable iif the graph of $f$ is a Borel subset of $X\times Y$.
    Then the graph of $f$ can not be an analytic set which is not a Borel set.

\end{remark}
\begin{proof}
    Let $G= \left\{ (x,f(x)): x\in X \right\}$ denote the graph of $f$.
    For any Borel subset $B$ of $Y$, the sets $G \cap (X \times B)$ and $G \cap (X \times B^\complement)$ are analytic.
    Then the projection of these two sets on $X$, i.e. $f^{-1}(B)$ and $f^{-1}(B^\complement)$, are also analytic.
    From separation theorem, i.e. \cite{book:992991}, Theorem 8.3.1, $B$ and $B^\complement$ are Borel sets.
    Hence $f$ is Borel measurable.
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.3.2]
Let $X$ and $Y$ be uncountable Polish spaces.
Then the cardinality of the collection of Borel measurable functions from $X$ to $Y$ is that of the continuum.
\end{exercise}
\begin{proof}
    The cardinalities of $X$ and $Y$ are both $\mathfrak c$.
    For each $y \in Y$, the constant function $f(x) \equiv y$ is Borel measurable.
    Hence the cardinality of the collection of Borel measurable functions from $X$ to $Y$ is at least $\mathfrak c$.

    On the other hand, since the graph of Borel measurable function $f$ is a Borel subset of $X\times Y$, and the collection of Borel subsets of an uncontable Polish space has cardinality $\mathfrak c$, the cardinality of the collection of Borel measurable functions from $X$ to $Y$ is as most $\mathfrak c$.
    This completes the proof.
\end{proof}


\begin{exercise}[\cite{book:992991}, Exercise 8.3.2]
    There is a Lebesgue measurable function $f: \mathbb R \to \mathbb R$ such that no real-valued Borel measurable function $f_1$ satisfies $f(x) \leq f_1(x)$ at each $x$ in $\mathbb R$.
\end{exercise}
\begin{proof}
    Let $K$ be the Cantor set. 
    $K$ is an uncontable Polish space.
    According to the preceding ecercise, there is a bijection $x \mapsto g_x$ of $K$ onto the set of real-valued Borel functions on $K$.
    Define $f: \mathbb R \to \mathbb R$ by
    \begin{equation*}
        f(x)=
        \left\{
            \begin{array}{ll}
                g_x(x)+1 & \text{if }x \in K,
                \\
                0 & \text{ otherwise}.
            \end{array}
    \right.
    \end{equation*}
    Since $f(x) = 0$ a.e.\@, $f$ is Lebesgue measurable.
    Suppose there is a real-valued Borel measurable function $f_1$ satisfying $f(x) \leq f_1(x)$ at each $x \in \mathbb R$.
    Then the restriction of $f_1$ on $K$ is still Borel measurable.
    Hence there is an $x_1\in K$ such that $f_1(x)=g_{x_1}(x)$ at each $x \in K$.
    Then $g_{x_1}(x) \geq g_x(x) +1 $ at each $x \in K$.
    But this is impossible when $x= x_1$.
    This completes the proof.

\end{proof}
\begin{exercise}[\cite{book:992991}, Exercise 8.3.3]
    Let $X$ be a Polish space, let $\mu$ be a Borel measure on $X$ such that $\mu(X) = 1$, and let $\lambda$ be Lebesgue measure on the Borel subsets of $[0,1]$.
    Then there is a Borel measurable function $f: [0,1]\to X$ such that $\mu= \lambda f^{-1}$.
\end{exercise}
\begin{proof}
    If $X$ is countably infinite, let $\{x_i\}_{i=1}^{\infty}$ be an enumeration of the points of $X$.
    Then $\sum_{i=1}^{\infty} \mu(\{x_i\}) = \mu (\cup_{i=1}^\infty \{x_i\})=1$.
    We can construct $f$ by letting $f(t)=x_i$ if $t\in \left[\sum_{j=1}^{i-1}x_j, \sum_{j=1}^{i}x_j\right)$, and $f(1)=x_1$.
    Then $\lambda f^{-1}( \{x_i\})=\lambda\left([\sum_{j=1}^{i-1}x_j, \sum_{j=1}^{i}x_j)\right)= x_i$.
    Hence $\mu = \lambda f^{-1}$.
    If $X$ is finite, the construction of $f$ is similar.

    Now suppose $X$ is uncountable, from \cite{book:992991}, Theorem 8.3.6, there is a bijection $g$ from $\mathbb R$ onto $X$ which is Borel isomorphism.
    Then the measure $\mu g$ is a probability measure on the Borel sets of $\mathbb R$.
    From \cite{book:992991}, Proposition 10.1.15, there is a Borel measurable function h from $[0,1]$ to $\mathbb R$ such that $\mu g = \lambda h^{-1}$.
    Thus, for any $A\in \mathcal B (X)$,
    \begin{equation*}
        \mu(A) = \mu ( g g^{-1} A) = \mu g(g^{-1} A)= \lambda h^{-1}(g^{-1}A)
        =\lambda (h^{-1} g^{-1} A)
        =\lambda ( (g\comp h)^{-1} A)
        =\lambda (g\comp h)^{-1} (  A).
    \end{equation*}
The conclusion follows by letting $f= g\comp h$.
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.4.1]
    Let $(X,\mathscr A)$ be a measurable space. 
    \begin{enumerate}[(a)]
        \item 
            A function $f: X\to [-\infty, + \infty]$ is $\mathscr A_*$-measurable if and only if for each finite measure $\mu$ on $ (X, \mathscr A)$ there are $\mathscr A $-measurable functions $f_0, f_1: X\to [-\infty, + \infty]$ that satisfy $f_0 \leq f \leq f_1$ everywhere on $X$ and $f_0=f_1$ $\mu$-almost surely.
        \item
            If $f: X\to [-\infty, + \infty]$ is $ \mathscr A_*$-measurable and if the functions $f_0$ and $f_1$ in part (a) can be chosen independently of $\mu$, then $f$ is $\mathscr A$-measurable.
    \end{enumerate}
\end{exercise}
\begin{proof}
    It is understood that $\mathscr A_*$-measurable means $\mathscr A_*/ \mathscr B([-\infty, +\infty])$ measurable.

    Suppose $f: X\to [-\infty, + \infty]$ is $\mathscr A_*$-measurable.
    Then for each finite measure $\mu$ on $(X, \mathscr A)$, since $\mathscr A \subset \mathscr A_\mu$, $f$ is $\mathscr A_\mu$ measurable.
    Then the existence of $f_0, f_1$ is implied by \cite{book:992991}, Proposition 2.2.5.
    Conversely, suppose for each finite measure $\mu$, such $f_0,f_1$ exist.
    Then \cite{book:992991}, Proposition 2.2.5 implies that $f$ is $\mathscr A_\mu$ measurable.
    Thus, for any $A \in \mathscr B ([-\infty, + \infty])$, $f^{-1}(A) \in \cap_{\mu} \mathscr A_\mu  = \mathscr A_*$.
    This completes the proof of (a).

    We turn to (b).
    Consider the set $A=\{x: f_0(x) \neq f_1(x)\}$.
    By assumption, $\mu^*(A)=0$ for any finite $\mu$ on $\mathscr A$.
    If $A$ is not empty, let $x$ be a point of $A$ and $\delta_x$ be the point mass concentrated on $x$.
    Then $\delta_x^* (A)=1$, a contradiction.
    It follows that $A= \emptyset$.
    Thus $f=f_0$, hence $f$ is $\mathscr A$-measurable.
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.4.2]
    Let $(X, \mathscr A)$ be a measurable space. Then
    \begin{enumerate}[(a)]
        \item 
            $(\mathscr A_*)_* = \mathscr A_*$.
        \item
            If $\mu$ is a finite measure on $(X,\mathscr A)$, then $(\mathscr A_\mu)_* = \mathscr A_\mu$.
    \end{enumerate}
\end{exercise}
\begin{proof}
    First we proof (b). 
    It is clear that $(\mathscr A_\mu)_* \supset \mathscr A_\mu$.
    On the other hand, $(\mathscr A_\mu)_* \subset (\mathscr A_\mu)_\mu = \mathscr A_\mu$.
    This completes the proof of (b).

    We turn to (a). 
    It is clear that $(\mathscr A_*)_* \supset \mathscr A_*$.
    On the other hand, let $ \mu $ be any finite measure on $\mathscr A$.
    Then $(\mathscr A_*)_* \subset  (\mathscr A_\mu)_* = \mathscr A_{\mu}$.
    Hence $(\mathscr A_*)_* \subset  \cap_{\mu} \mathscr A_{\mu} = \mathscr A_*$.
\end{proof}

\begin{exercise}[\cite{book:992991}, Exercise 8.4.3]
    There is a Lebesgue measurable subset of $\mathbb R$ that is not universally measurable.
\end{exercise}
\begin{proof}
    Let $C$ be the Cantor set on $[0,1]$ (see  \cite{book:992991}, example 1.4.6), let $f:[0,1] \to [0,1]$ be the Cantor function (see \cite{book:992991}, example 2.1.10).
    It is known that $f$ is nondecreasing and continuous.

    Let $\lambda$ be the Lebesgue measure on $\mathbb R$.
    Let $\lambda_{[0,1]}$ be the Lebesgue measure on $[0,1]$.
    Let $\mu$ be the measure on $[0,1]$ with distribution function $f$.
    It is known that $\mu(C)=1$.
    Define $\mu_1=\lambda + \mu$.
    Then for $x\in [0,1]$, $\mu_1([0,x]) =f(x)+x$.
    Define $g:[0,1] \to [0,2]$ by $g(x)= f(x) + x$.
    Then $g$ is strict increasing and continuous.
    Thus, $g$ is a Borel isomorphism from $([0,1], \mathscr B ([0,1]), \mu_1)$ to $([0,2], \mathscr B([0,2]), \lambda)$.
    That is, $\lambda \comp g = \mu_1$.
    It ca be easily seen that $g$ is also an isomorphism from the completion space $([0,1], \mathscr B ([0,1])_{\mu_1}, \mu_1)$ to the completion space $([0,2], \mathscr B([0,2])_{\lambda}, \lambda)$.
    It can be shown that $\lambda(g(C^\complement))= 1 $. 
    Hence $\lambda(g(C))=2-1=1$.
    Then There is a Lebesgue \textbf{non}measurable subset $D$ of $g(C)$ (see \cite{book:992991}, exercise 1.4.6).
    Then $g^{-1}(D)$ is a $\mathscr B ([0,1])_{\mu_1}$-nonmeasurable subset of $C$.
    Note also that $g^{-1}(D)$ is Lebesgue measurable since $g^{-1} (D)$ is a subset of $C$ which has Lebesgue measure $0$.
    Thus, $g^{-1}(D)$ is a Lebesgue measurable subset of $\mathbb R$ which is not universally measurable.



\end{proof}


\bibliographystyle{apalike}
\bibliography{mybibfile}

\end{document}
